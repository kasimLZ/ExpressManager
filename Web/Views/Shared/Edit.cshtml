@{ var ticket = Guid.NewGuid(); }
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="ibox float-e-margins">

        <div class="ibox-title">
            <h5>
                Edit
            </h5>
            <div class="ibox-tools">
                <a class="refresh-link">
                    <i class="fa fa-refresh"></i>
                </a>
            </div>
        </div>
        <div class="ibox-content">
            @using (Ajax.BeginForm(new AjaxOptions { UpdateTargetId = ticket.ToString() }))
            {
                <div class="form-horizontal">
                    @Html.AntiForgeryToken()
                    @foreach (var prop in ViewData.ModelMetadata.Properties.Where(pm => pm.ShowForEdit && !pm.ModelType.IsAbstract && !ViewData.TemplateInfo.Visited(pm)).OrderBy(a => a.Order))
                    {
                        if (prop.HideSurroundingHtml)
                        {
                            @Html.Hidden(prop.PropertyName)
                        }
                        else
                        {
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="@prop.PropertyName">
                                    <span class="text-danger">@(prop.IsRequired && @prop.ModelType != typeof(Boolean) ? "*" : "")</span>
                                    @(string.IsNullOrEmpty(prop.DisplayName) ? prop.PropertyName : prop.DisplayName )
                                </label>
                                <div class="col-sm-10">
                                    @Html.Editor(prop.PropertyName, new { ModelMetedata = prop })
                                </div>
                            </div>
                        }

                    }
                    <div class="form-group">
                        <div class="col-sm-4 col-sm-offset-2">
                            <button class="btn btn-primary" type="submit">Save</button>
                            <a class="btn btn-white" href="javascript:; " onclick="Core.goToUrl('@Url.Action("Index")')">Cancel</a>
                        </div>
                    </div>
                </div>

            }
        </div>
    </div>
</div>

<script type="text/javascript" id="@ticket">
    Core.InitAjaxEdit("@ticket")
</script>